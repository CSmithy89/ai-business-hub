# ============================================
# DATABASE (Story 00.4)
# ============================================
# Supabase connection pooler URL (PgBouncer session mode for RLS)
DATABASE_URL="postgresql://user:password@host:6543/database?pgbouncer=true"
# Direct connection for migrations (bypasses pooler)
DIRECT_URL="postgresql://user:password@host:5432/database"

# ============================================
# REDIS (Story 00.5)
# ============================================
# Standard Redis connection for event bus and queues
REDIS_URL="redis://localhost:6379"

# ============================================
# UPSTASH REDIS (Story 10.1)
# ============================================
# Distributed rate limiting via Upstash Redis REST API
# Used for production-grade rate limiting across serverless deployments
#
# Setup Instructions:
# 1. Create free account at https://console.upstash.com
# 2. Create new Redis database (select region closest to your app)
# 3. Copy "REST URL" and "REST Token" from database details page
# 4. Paste values below
#
# Fallback Behavior:
# - If not configured, system falls back to in-memory rate limiting
# - In-memory is NOT production-ready (lost on server restart)
# - Always configure for production deployments
#
UPSTASH_REDIS_REST_URL="https://your-database.upstash.io"
UPSTASH_REDIS_REST_TOKEN="your-rest-token-here"

# ============================================
# AUTHENTICATION (Epic 01)
# ============================================
BETTER_AUTH_SECRET="generate-with-openssl-rand-base64-32"
BETTER_AUTH_URL="http://localhost:3000"
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# ============================================
# AI PROVIDERS (Epic 06 - workspace-level, encrypted in DB)
# ============================================
# Master encryption key for encrypting AI provider API keys (AES-256-GCM)
# IMPORTANT: Generate a secure 32-byte key and store securely (never commit to git)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
ENCRYPTION_MASTER_KEY="generate-with-openssl-rand-base64-32"

# ============================================
# EMAIL (Epic 01)
# ============================================
RESEND_API_KEY=""

# ============================================
# MONITORING (Future)
# ============================================
HELICONE_API_KEY=""

# ============================================
# AGENTOS (Story 00.7)
# ============================================
AGENTOS_PORT="7777"
AGENTOS_HOST="0.0.0.0"

# ============================================
# CONTROL PLANE (Story 04.11)
# ============================================
# Enable/disable Agno Control Plane monitoring (os.agno.com)
# Set to false in production for security
CONTROL_PLANE_ENABLED="true"

# Optional: API key for Control Plane authentication
# If set, Control Plane must provide this key as Authorization header
# If not set, Control Plane endpoints are public (local dev only!)
# Generate with: openssl rand -base64 32
AGNO_API_KEY=""

# ============================================
# PUBLIC ENVIRONMENT VARIABLES
# ============================================
NEXT_PUBLIC_API_URL="http://localhost:3001"
NEXT_PUBLIC_WS_URL="ws://localhost:3001"
NEXT_PUBLIC_AGENTOS_URL="http://localhost:7777"
